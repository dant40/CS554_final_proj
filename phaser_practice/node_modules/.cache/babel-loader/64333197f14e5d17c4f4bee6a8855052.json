{"ast":null,"code":"/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\nvar Defaults = require('../tween/Defaults');\n\nvar GetAdvancedValue = require('../../utils/object/GetAdvancedValue');\n\nvar GetBoolean = require('./GetBoolean');\n\nvar GetEaseFunction = require('./GetEaseFunction');\n\nvar GetNewValue = require('./GetNewValue');\n\nvar GetProps = require('./GetProps');\n\nvar GetTargets = require('./GetTargets');\n\nvar GetValue = require('../../utils/object/GetValue');\n\nvar GetValueOp = require('./GetValueOp');\n\nvar Tween = require('../tween/Tween');\n\nvar TweenData = require('../tween/TweenData');\n/**\r\n * Creates a new Tween.\r\n *\r\n * @function Phaser.Tweens.Builders.TweenBuilder\r\n * @since 3.0.0\r\n *\r\n * @param {(Phaser.Tweens.TweenManager|Phaser.Tweens.Timeline)} parent - The owner of the new Tween.\r\n * @param {Phaser.Types.Tweens.TweenBuilderConfig|object} config - Configuration for the new Tween.\r\n * @param {Phaser.Types.Tweens.TweenConfigDefaults} defaults - Tween configuration defaults.\r\n *\r\n * @return {Phaser.Tweens.Tween} The new tween.\r\n */\n\n\nvar TweenBuilder = function (parent, config, defaults) {\n  if (defaults === undefined) {\n    defaults = Defaults;\n  } //  Create arrays of the Targets and the Properties\n\n\n  var targets = defaults.targets ? defaults.targets : GetTargets(config); // var props = (defaults.props) ? defaults.props : GetProps(config);\n\n  var props = GetProps(config); //  Default Tween values\n\n  var delay = GetNewValue(config, 'delay', defaults.delay);\n  var duration = GetNewValue(config, 'duration', defaults.duration);\n  var easeParams = GetValue(config, 'easeParams', defaults.easeParams);\n  var ease = GetEaseFunction(GetValue(config, 'ease', defaults.ease), easeParams);\n  var hold = GetNewValue(config, 'hold', defaults.hold);\n  var repeat = GetNewValue(config, 'repeat', defaults.repeat);\n  var repeatDelay = GetNewValue(config, 'repeatDelay', defaults.repeatDelay);\n  var yoyo = GetBoolean(config, 'yoyo', defaults.yoyo);\n  var flipX = GetBoolean(config, 'flipX', defaults.flipX);\n  var flipY = GetBoolean(config, 'flipY', defaults.flipY);\n  var data = []; //  Loop through every property defined in the Tween, i.e.: props { x, y, alpha }\n\n  for (var p = 0; p < props.length; p++) {\n    var key = props[p].key;\n    var value = props[p].value; //  Create 1 TweenData per target, per property\n\n    for (var t = 0; t < targets.length; t++) {\n      var ops = GetValueOp(key, value);\n      var tweenData = TweenData(targets[t], t, key, ops.getEnd, ops.getStart, ops.getActive, GetEaseFunction(GetValue(value, 'ease', ease), easeParams), GetNewValue(value, 'delay', delay), GetNewValue(value, 'duration', duration), GetBoolean(value, 'yoyo', yoyo), GetNewValue(value, 'hold', hold), GetNewValue(value, 'repeat', repeat), GetNewValue(value, 'repeatDelay', repeatDelay), GetBoolean(value, 'flipX', flipX), GetBoolean(value, 'flipY', flipY));\n      data.push(tweenData);\n    }\n  }\n\n  var tween = new Tween(parent, data, targets);\n  tween.offset = GetAdvancedValue(config, 'offset', null);\n  tween.completeDelay = GetAdvancedValue(config, 'completeDelay', 0);\n  tween.loop = Math.round(GetAdvancedValue(config, 'loop', 0));\n  tween.loopDelay = Math.round(GetAdvancedValue(config, 'loopDelay', 0));\n  tween.paused = GetBoolean(config, 'paused', false);\n  tween.useFrames = GetBoolean(config, 'useFrames', false); //  Set the Callbacks\n\n  var scope = GetValue(config, 'callbackScope', tween); //  Callback parameters: 0 = a reference to the Tween itself, 1 = the target/s of the Tween, ... your own params\n\n  var tweenArray = [tween, null];\n  var callbacks = Tween.TYPES;\n\n  for (var i = 0; i < callbacks.length; i++) {\n    var type = callbacks[i];\n    var callback = GetValue(config, type, false);\n\n    if (callback) {\n      var callbackScope = GetValue(config, type + 'Scope', scope);\n      var callbackParams = GetValue(config, type + 'Params', []); //  The null is reset to be the Tween target\n\n      tween.setCallback(type, callback, tweenArray.concat(callbackParams), callbackScope);\n    }\n  }\n\n  return tween;\n};\n\nmodule.exports = TweenBuilder;","map":{"version":3,"sources":["/mnt/c/Users/kubec/Desktop/Projects/Projects/Phaser/phaser_practice/node_modules/phaser/src/tweens/builders/TweenBuilder.js"],"names":["Defaults","require","GetAdvancedValue","GetBoolean","GetEaseFunction","GetNewValue","GetProps","GetTargets","GetValue","GetValueOp","Tween","TweenData","TweenBuilder","parent","config","defaults","undefined","targets","props","delay","duration","easeParams","ease","hold","repeat","repeatDelay","yoyo","flipX","flipY","data","p","length","key","value","t","ops","tweenData","getEnd","getStart","getActive","push","tween","offset","completeDelay","loop","Math","round","loopDelay","paused","useFrames","scope","tweenArray","callbacks","TYPES","i","type","callback","callbackScope","callbackParams","setCallback","concat","module","exports"],"mappings":"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","sourcesContent":["/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nvar Defaults = require('../tween/Defaults');\r\nvar GetAdvancedValue = require('../../utils/object/GetAdvancedValue');\r\nvar GetBoolean = require('./GetBoolean');\r\nvar GetEaseFunction = require('./GetEaseFunction');\r\nvar GetNewValue = require('./GetNewValue');\r\nvar GetProps = require('./GetProps');\r\nvar GetTargets = require('./GetTargets');\r\nvar GetValue = require('../../utils/object/GetValue');\r\nvar GetValueOp = require('./GetValueOp');\r\nvar Tween = require('../tween/Tween');\r\nvar TweenData = require('../tween/TweenData');\r\n\r\n/**\r\n * Creates a new Tween.\r\n *\r\n * @function Phaser.Tweens.Builders.TweenBuilder\r\n * @since 3.0.0\r\n *\r\n * @param {(Phaser.Tweens.TweenManager|Phaser.Tweens.Timeline)} parent - The owner of the new Tween.\r\n * @param {Phaser.Types.Tweens.TweenBuilderConfig|object} config - Configuration for the new Tween.\r\n * @param {Phaser.Types.Tweens.TweenConfigDefaults} defaults - Tween configuration defaults.\r\n *\r\n * @return {Phaser.Tweens.Tween} The new tween.\r\n */\r\nvar TweenBuilder = function (parent, config, defaults)\r\n{\r\n    if (defaults === undefined)\r\n    {\r\n        defaults = Defaults;\r\n    }\r\n\r\n    //  Create arrays of the Targets and the Properties\r\n    var targets = (defaults.targets) ? defaults.targets : GetTargets(config);\r\n\r\n    // var props = (defaults.props) ? defaults.props : GetProps(config);\r\n    var props = GetProps(config);\r\n\r\n    //  Default Tween values\r\n    var delay = GetNewValue(config, 'delay', defaults.delay);\r\n    var duration = GetNewValue(config, 'duration', defaults.duration);\r\n    var easeParams = GetValue(config, 'easeParams', defaults.easeParams);\r\n    var ease = GetEaseFunction(GetValue(config, 'ease', defaults.ease), easeParams);\r\n    var hold = GetNewValue(config, 'hold', defaults.hold);\r\n    var repeat = GetNewValue(config, 'repeat', defaults.repeat);\r\n    var repeatDelay = GetNewValue(config, 'repeatDelay', defaults.repeatDelay);\r\n    var yoyo = GetBoolean(config, 'yoyo', defaults.yoyo);\r\n    var flipX = GetBoolean(config, 'flipX', defaults.flipX);\r\n    var flipY = GetBoolean(config, 'flipY', defaults.flipY);\r\n\r\n    var data = [];\r\n\r\n    //  Loop through every property defined in the Tween, i.e.: props { x, y, alpha }\r\n    for (var p = 0; p < props.length; p++)\r\n    {\r\n        var key = props[p].key;\r\n        var value = props[p].value;\r\n\r\n        //  Create 1 TweenData per target, per property\r\n        for (var t = 0; t < targets.length; t++)\r\n        {\r\n            var ops = GetValueOp(key, value);\r\n\r\n            var tweenData = TweenData(\r\n                targets[t],\r\n                t,\r\n                key,\r\n                ops.getEnd,\r\n                ops.getStart,\r\n                ops.getActive,\r\n                GetEaseFunction(GetValue(value, 'ease', ease), easeParams),\r\n                GetNewValue(value, 'delay', delay),\r\n                GetNewValue(value, 'duration', duration),\r\n                GetBoolean(value, 'yoyo', yoyo),\r\n                GetNewValue(value, 'hold', hold),\r\n                GetNewValue(value, 'repeat', repeat),\r\n                GetNewValue(value, 'repeatDelay', repeatDelay),\r\n                GetBoolean(value, 'flipX', flipX),\r\n                GetBoolean(value, 'flipY', flipY)\r\n            );\r\n\r\n            data.push(tweenData);\r\n        }\r\n    }\r\n\r\n    var tween = new Tween(parent, data, targets);\r\n\r\n    tween.offset = GetAdvancedValue(config, 'offset', null);\r\n    tween.completeDelay = GetAdvancedValue(config, 'completeDelay', 0);\r\n    tween.loop = Math.round(GetAdvancedValue(config, 'loop', 0));\r\n    tween.loopDelay = Math.round(GetAdvancedValue(config, 'loopDelay', 0));\r\n    tween.paused = GetBoolean(config, 'paused', false);\r\n    tween.useFrames = GetBoolean(config, 'useFrames', false);\r\n\r\n    //  Set the Callbacks\r\n    var scope = GetValue(config, 'callbackScope', tween);\r\n\r\n    //  Callback parameters: 0 = a reference to the Tween itself, 1 = the target/s of the Tween, ... your own params\r\n    var tweenArray = [ tween, null ];\r\n\r\n    var callbacks = Tween.TYPES;\r\n\r\n    for (var i = 0; i < callbacks.length; i++)\r\n    {\r\n        var type = callbacks[i];\r\n\r\n        var callback = GetValue(config, type, false);\r\n\r\n        if (callback)\r\n        {\r\n            var callbackScope = GetValue(config, type + 'Scope', scope);\r\n            var callbackParams = GetValue(config, type + 'Params', []);\r\n\r\n            //  The null is reset to be the Tween target\r\n            tween.setCallback(type, callback, tweenArray.concat(callbackParams), callbackScope);\r\n        }\r\n    }\r\n\r\n    return tween;\r\n};\r\n\r\nmodule.exports = TweenBuilder;\r\n"]},"metadata":{},"sourceType":"script"}