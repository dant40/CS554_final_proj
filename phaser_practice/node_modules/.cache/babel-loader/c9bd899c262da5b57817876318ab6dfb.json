{"ast":null,"code":"/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\nvar Clone = require('../../utils/object/Clone');\n\nvar Defaults = require('../tween/Defaults');\n\nvar GetAdvancedValue = require('../../utils/object/GetAdvancedValue');\n\nvar GetBoolean = require('./GetBoolean');\n\nvar GetEaseFunction = require('./GetEaseFunction');\n\nvar GetNewValue = require('./GetNewValue');\n\nvar GetTargets = require('./GetTargets');\n\nvar GetTweens = require('./GetTweens');\n\nvar GetValue = require('../../utils/object/GetValue');\n\nvar Timeline = require('../Timeline');\n\nvar TweenBuilder = require('./TweenBuilder');\n/**\r\n * Builds a Timeline of Tweens based on a configuration object.\r\n *\r\n * @function Phaser.Tweens.Builders.TimelineBuilder\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Tweens.TweenManager} manager - The Tween Manager to which the Timeline will belong.\r\n * @param {Phaser.Types.Tweens.TimelineBuilderConfig} config - The configuration object for the Timeline.\r\n *\r\n * @return {Phaser.Tweens.Timeline} The created Timeline.\r\n */\n\n\nvar TimelineBuilder = function (manager, config) {\n  var timeline = new Timeline(manager);\n  var tweens = GetTweens(config);\n\n  if (tweens.length === 0) {\n    timeline.paused = true;\n    return timeline;\n  }\n\n  var defaults = Clone(Defaults);\n  defaults.targets = GetTargets(config); //  totalDuration: If specified each tween in the Timeline is given an equal portion of the totalDuration\n\n  var totalDuration = GetAdvancedValue(config, 'totalDuration', 0);\n\n  if (totalDuration > 0) {\n    defaults.duration = Math.floor(totalDuration / tweens.length);\n  } else {\n    defaults.duration = GetNewValue(config, 'duration', defaults.duration);\n  }\n\n  defaults.delay = GetNewValue(config, 'delay', defaults.delay);\n  defaults.easeParams = GetValue(config, 'easeParams', defaults.easeParams);\n  defaults.ease = GetEaseFunction(GetValue(config, 'ease', defaults.ease), defaults.easeParams);\n  defaults.hold = GetNewValue(config, 'hold', defaults.hold);\n  defaults.repeat = GetNewValue(config, 'repeat', defaults.repeat);\n  defaults.repeatDelay = GetNewValue(config, 'repeatDelay', defaults.repeatDelay);\n  defaults.yoyo = GetBoolean(config, 'yoyo', defaults.yoyo);\n  defaults.flipX = GetBoolean(config, 'flipX', defaults.flipX);\n  defaults.flipY = GetBoolean(config, 'flipY', defaults.flipY); //  Create the Tweens\n\n  for (var i = 0; i < tweens.length; i++) {\n    timeline.queue(TweenBuilder(timeline, tweens[i], defaults));\n  }\n\n  timeline.completeDelay = GetAdvancedValue(config, 'completeDelay', 0);\n  timeline.loop = Math.round(GetAdvancedValue(config, 'loop', 0));\n  timeline.loopDelay = Math.round(GetAdvancedValue(config, 'loopDelay', 0));\n  timeline.paused = GetBoolean(config, 'paused', false);\n  timeline.useFrames = GetBoolean(config, 'useFrames', false); //  Callbacks\n\n  var scope = GetValue(config, 'callbackScope', timeline);\n  var timelineArray = [timeline];\n  var onStart = GetValue(config, 'onStart', false); //  The Start of the Timeline\n\n  if (onStart) {\n    var onStartScope = GetValue(config, 'onStartScope', scope);\n    var onStartParams = GetValue(config, 'onStartParams', []);\n    timeline.setCallback('onStart', onStart, timelineArray.concat(onStartParams), onStartScope);\n  }\n\n  var onUpdate = GetValue(config, 'onUpdate', false); //  Every time the Timeline updates (regardless which Tweens are running)\n\n  if (onUpdate) {\n    var onUpdateScope = GetValue(config, 'onUpdateScope', scope);\n    var onUpdateParams = GetValue(config, 'onUpdateParams', []);\n    timeline.setCallback('onUpdate', onUpdate, timelineArray.concat(onUpdateParams), onUpdateScope);\n  }\n\n  var onLoop = GetValue(config, 'onLoop', false); //  Called when the whole Timeline loops\n\n  if (onLoop) {\n    var onLoopScope = GetValue(config, 'onLoopScope', scope);\n    var onLoopParams = GetValue(config, 'onLoopParams', []);\n    timeline.setCallback('onLoop', onLoop, timelineArray.concat(onLoopParams), onLoopScope);\n  }\n\n  var onYoyo = GetValue(config, 'onYoyo', false); //  Called when a Timeline yoyos\n\n  if (onYoyo) {\n    var onYoyoScope = GetValue(config, 'onYoyoScope', scope);\n    var onYoyoParams = GetValue(config, 'onYoyoParams', []);\n    timeline.setCallback('onYoyo', onYoyo, timelineArray.concat(null, onYoyoParams), onYoyoScope);\n  }\n\n  var onComplete = GetValue(config, 'onComplete', false); //  Called when the Timeline completes, after the completeDelay, etc.\n\n  if (onComplete) {\n    var onCompleteScope = GetValue(config, 'onCompleteScope', scope);\n    var onCompleteParams = GetValue(config, 'onCompleteParams', []);\n    timeline.setCallback('onComplete', onComplete, timelineArray.concat(onCompleteParams), onCompleteScope);\n  }\n\n  return timeline;\n};\n\nmodule.exports = TimelineBuilder;","map":{"version":3,"sources":["/mnt/c/Users/kubec/Desktop/Projects/Projects/Phaser/phaser_practice/node_modules/phaser/src/tweens/builders/TimelineBuilder.js"],"names":["Clone","require","Defaults","GetAdvancedValue","GetBoolean","GetEaseFunction","GetNewValue","GetTargets","GetTweens","GetValue","Timeline","TweenBuilder","TimelineBuilder","manager","config","timeline","tweens","length","paused","defaults","targets","totalDuration","duration","Math","floor","delay","easeParams","ease","hold","repeat","repeatDelay","yoyo","flipX","flipY","i","queue","completeDelay","loop","round","loopDelay","useFrames","scope","timelineArray","onStart","onStartScope","onStartParams","setCallback","concat","onUpdate","onUpdateScope","onUpdateParams","onLoop","onLoopScope","onLoopParams","onYoyo","onYoyoScope","onYoyoParams","onComplete","onCompleteScope","onCompleteParams","module","exports"],"mappings":"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","sourcesContent":["/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nvar Clone = require('../../utils/object/Clone');\r\nvar Defaults = require('../tween/Defaults');\r\nvar GetAdvancedValue = require('../../utils/object/GetAdvancedValue');\r\nvar GetBoolean = require('./GetBoolean');\r\nvar GetEaseFunction = require('./GetEaseFunction');\r\nvar GetNewValue = require('./GetNewValue');\r\nvar GetTargets = require('./GetTargets');\r\nvar GetTweens = require('./GetTweens');\r\nvar GetValue = require('../../utils/object/GetValue');\r\nvar Timeline = require('../Timeline');\r\nvar TweenBuilder = require('./TweenBuilder');\r\n\r\n/**\r\n * Builds a Timeline of Tweens based on a configuration object.\r\n *\r\n * @function Phaser.Tweens.Builders.TimelineBuilder\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Tweens.TweenManager} manager - The Tween Manager to which the Timeline will belong.\r\n * @param {Phaser.Types.Tweens.TimelineBuilderConfig} config - The configuration object for the Timeline.\r\n *\r\n * @return {Phaser.Tweens.Timeline} The created Timeline.\r\n */\r\nvar TimelineBuilder = function (manager, config)\r\n{\r\n    var timeline = new Timeline(manager);\r\n\r\n    var tweens = GetTweens(config);\r\n\r\n    if (tweens.length === 0)\r\n    {\r\n        timeline.paused = true;\r\n\r\n        return timeline;\r\n    }\r\n\r\n    var defaults = Clone(Defaults);\r\n\r\n    defaults.targets = GetTargets(config);\r\n\r\n    //  totalDuration: If specified each tween in the Timeline is given an equal portion of the totalDuration\r\n\r\n    var totalDuration = GetAdvancedValue(config, 'totalDuration', 0);\r\n\r\n    if (totalDuration > 0)\r\n    {\r\n        defaults.duration = Math.floor(totalDuration / tweens.length);\r\n    }\r\n    else\r\n    {\r\n        defaults.duration = GetNewValue(config, 'duration', defaults.duration);\r\n    }\r\n\r\n    defaults.delay = GetNewValue(config, 'delay', defaults.delay);\r\n    defaults.easeParams = GetValue(config, 'easeParams', defaults.easeParams);\r\n    defaults.ease = GetEaseFunction(GetValue(config, 'ease', defaults.ease), defaults.easeParams);\r\n    defaults.hold = GetNewValue(config, 'hold', defaults.hold);\r\n    defaults.repeat = GetNewValue(config, 'repeat', defaults.repeat);\r\n    defaults.repeatDelay = GetNewValue(config, 'repeatDelay', defaults.repeatDelay);\r\n    defaults.yoyo = GetBoolean(config, 'yoyo', defaults.yoyo);\r\n    defaults.flipX = GetBoolean(config, 'flipX', defaults.flipX);\r\n    defaults.flipY = GetBoolean(config, 'flipY', defaults.flipY);\r\n\r\n    //  Create the Tweens\r\n    for (var i = 0; i < tweens.length; i++)\r\n    {\r\n        timeline.queue(TweenBuilder(timeline, tweens[i], defaults));\r\n    }\r\n\r\n    timeline.completeDelay = GetAdvancedValue(config, 'completeDelay', 0);\r\n    timeline.loop = Math.round(GetAdvancedValue(config, 'loop', 0));\r\n    timeline.loopDelay = Math.round(GetAdvancedValue(config, 'loopDelay', 0));\r\n    timeline.paused = GetBoolean(config, 'paused', false);\r\n    timeline.useFrames = GetBoolean(config, 'useFrames', false);\r\n\r\n    //  Callbacks\r\n\r\n    var scope = GetValue(config, 'callbackScope', timeline);\r\n\r\n    var timelineArray = [ timeline ];\r\n\r\n    var onStart = GetValue(config, 'onStart', false);\r\n\r\n    //  The Start of the Timeline\r\n    if (onStart)\r\n    {\r\n        var onStartScope = GetValue(config, 'onStartScope', scope);\r\n        var onStartParams = GetValue(config, 'onStartParams', []);\r\n\r\n        timeline.setCallback('onStart', onStart, timelineArray.concat(onStartParams), onStartScope);\r\n    }\r\n\r\n    var onUpdate = GetValue(config, 'onUpdate', false);\r\n\r\n    //  Every time the Timeline updates (regardless which Tweens are running)\r\n    if (onUpdate)\r\n    {\r\n        var onUpdateScope = GetValue(config, 'onUpdateScope', scope);\r\n        var onUpdateParams = GetValue(config, 'onUpdateParams', []);\r\n\r\n        timeline.setCallback('onUpdate', onUpdate, timelineArray.concat(onUpdateParams), onUpdateScope);\r\n    }\r\n\r\n    var onLoop = GetValue(config, 'onLoop', false);\r\n\r\n    //  Called when the whole Timeline loops\r\n    if (onLoop)\r\n    {\r\n        var onLoopScope = GetValue(config, 'onLoopScope', scope);\r\n        var onLoopParams = GetValue(config, 'onLoopParams', []);\r\n\r\n        timeline.setCallback('onLoop', onLoop, timelineArray.concat(onLoopParams), onLoopScope);\r\n    }\r\n\r\n    var onYoyo = GetValue(config, 'onYoyo', false);\r\n\r\n    //  Called when a Timeline yoyos\r\n    if (onYoyo)\r\n    {\r\n        var onYoyoScope = GetValue(config, 'onYoyoScope', scope);\r\n        var onYoyoParams = GetValue(config, 'onYoyoParams', []);\r\n\r\n        timeline.setCallback('onYoyo', onYoyo, timelineArray.concat(null, onYoyoParams), onYoyoScope);\r\n    }\r\n\r\n    var onComplete = GetValue(config, 'onComplete', false);\r\n\r\n    //  Called when the Timeline completes, after the completeDelay, etc.\r\n    if (onComplete)\r\n    {\r\n        var onCompleteScope = GetValue(config, 'onCompleteScope', scope);\r\n        var onCompleteParams = GetValue(config, 'onCompleteParams', []);\r\n\r\n        timeline.setCallback('onComplete', onComplete, timelineArray.concat(onCompleteParams), onCompleteScope);\r\n    }\r\n\r\n    return timeline;\r\n};\r\n\r\nmodule.exports = TimelineBuilder;\r\n"]},"metadata":{},"sourceType":"script"}